# LLM基准测试工具功能详细说明

## 1. 测试配置功能

### 1.1 环境配置
- **基础URL设置**：设置LLM服务的基础URL，默认为本地地址(http://127.0.0.1:8000)
- **模型选择**：指定要测试的LLM模型名称
- **分词器设置**：配置自定义分词器路径
- **后端类型选择**：支持多种后端服务类型(OpenAI、vLLM等)

### 1.2 API密钥管理
- **密钥添加/更新**：添加或更新不同服务的API密钥
- **密钥查看**：查看已配置的API密钥列表
- **密钥删除**：删除指定服务的API密钥
- **安全存储**：API密钥安全存储在本地配置文件中

### 1.3 测试场景管理
- **创建场景**：创建自定义测试场景
- **编辑场景**：修改现有测试场景参数
- **删除场景**：移除不需要的测试场景
- **场景选择**：从场景列表中选择要执行的测试场景
- **全选/全不选**：一键选择或取消选择所有测试场景
- **快捷键支持**：为场景管理的常用操作提供键盘快捷键

## 2. 测试执行功能

### 2.1 基准测试控制
- **启动测试**：执行选定的测试场景
- **批量测试**：支持多场景连续测试
- **并发控制**：设置测试的最大并发数量
- **随机输入长度**：支持随机长度的测试输入

### 2.2 测试监控
- **实时日志**：展示测试过程中的实时日志信息
- **自动滚动**：日志自动滚动显示最新内容
- **清空日志**：清除当前显示的日志内容
- **保存日志**：将当前日志保存到文件

## 3. 结果报告功能

### 3.1 结果收集
- **日志目录创建**：自动创建时间戳命名的日志目录
- **性能指标收集**：收集响应时间、吞吐量等性能指标
- **错误记录**：详细记录测试过程中的错误信息
- **系统信息收集**：自动收集测试环境的系统信息

### 3.2 报告生成
- **Markdown报告**：生成标准化的Markdown格式测试报告
- **测试配置记录**：在报告中详细记录测试配置信息
- **系统信息记录**：在报告中记录详细的系统和硬件信息
- **GPU信息展示**：展示测试机器的GPU详细信息
- **性能统计**：提供测试结果的统计分析数据

## 4. 通知功能

### 4.1 邮件配置
- **发件人设置**：配置发送邮件的邮箱地址
- **收件人设置**：配置接收邮件的邮箱地址(支持多收件人)
- **密码设置**：配置邮箱密码或授权码
- **SMTP服务器设置**：配置邮件服务器地址和端口

### 4.2 邮件发送
- **场景测试通知**：每个场景测试完成后发送邮件
- **最终汇总通知**：所有测试完成后发送汇总邮件
- **附件支持**：支持添加测试报告作为邮件附件
- **错误处理**：邮件发送失败时的错误处理机制

## 5. 用户界面功能

### 5.1 主界面
- **标签页设计**：使用标签页组织不同功能模块
- **状态栏**：显示应用当前状态和简短提示
- **主菜单**：提供应用的主要功能入口
- **配置保存/加载**：保存和加载用户配置

### 5.2 标签页组织
- **主设置标签**：基本测试配置和控制
- **场景管理标签**：测试场景的创建和管理
- **日志标签**：显示测试日志
- **API密钥标签**：管理API密钥
- **邮件设置标签**：配置邮件通知选项

### 5.3 交互控件
- **下拉菜单**：选择预定义选项
- **文本输入框**：输入自定义配置
- **复选框**：开启/关闭特定功能
- **列表框**：展示和选择多个项目
- **按钮**：触发特定操作
- **快捷键绑定**：主要功能按钮支持键盘快捷键，提高操作效率

## 6. 系统集成功能

### 6.1 打包与部署
- **可执行文件生成**：使用PyInstaller打包为独立可执行程序
- **自动图标生成**：自动创建应用图标
- **目录结构创建**：自动创建必要的配置和数据目录
- **跨平台支持**：兼容Windows和其他操作系统

### 6.2 系统信息收集
- **OS信息获取**：获取操作系统类型和版本
- **CPU信息获取**：获取CPU型号和核心数
- **内存信息获取**：获取系统内存大小和使用情况
- **GPU信息获取**：获取GPU型号、内存和使用情况
- **信息格式化**：将系统信息格式化为易读格式

## 7. 高级功能

### 7.1 错误处理
- **异常捕获**：捕获并处理测试过程中的异常
- **错误日志**：详细记录错误信息
- **用户提示**：向用户友好地展示错误信息
- **恢复机制**：从错误中恢复继续测试的能力

### 7.2 配置管理
- **配置文件读写**：读取和写入JSON格式的配置文件
- **配置合法性验证**：验证用户输入的配置是否合法
- **默认配置**：提供合理的默认配置值
- **配置版本管理**：处理不同版本的配置文件格式

## 使用指南

1. **环境准备**：确保已安装Python和必要的依赖包
2. **启动应用**：运行main.py或使用打包好的可执行文件
3. **配置API密钥**：在"API密钥"标签页中添加所需服务的API密钥
4. **创建测试场景**：在"场景管理"标签页中创建自定义测试场景
5. **设置测试参数**：在主标签页中配置基础URL、模型名称等参数
6. **选择测试场景**：从场景列表中选择要执行的测试场景
7. **运行测试**：点击"开始测试"按钮启动测试
8. **查看结果**：在日志标签页查看测试进度，测试完成后查看生成的报告

## 注意事项

- 对于QQ邮箱，请使用授权码而不是登录密码
- 测试结果保存在程序目录下的benchmark_logs_*目录中
- 为获得准确结果，建议在测试期间关闭其他占用资源的程序
- 高并发测试可能导致API限流，请根据API提供商的限制调整并发数
- 大型测试场景可能消耗大量资源，请确保系统有足够的计算能力
